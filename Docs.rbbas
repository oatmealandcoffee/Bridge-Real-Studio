#tag ModuleProtected Module Docs	#tag Note, Name = Bugs		All new bug reports need to go to MusicSketchBugs.003				Selection Bugs				Interface Bugs		{E} There might need to be a refactoring of the FileMgrObj to include the NativeFile associated with an Editor as opposed to keeping it		as a global property. I just see some kind of a conflict happening there that will cause one Editor to overwrite the contents of another.		{E} The window isn't showing as dirty after some changes have been made.		{E} Save and Save As isn't working even though changes have been made (this may be related to the a)				{E} After scaling a note, that's already been reduced 3 beats several times in a row, we get a nil Picture in DrawNote		   { } Perhaps set a minimum picture size at any scale. I think it's going to 0 or the length is going to 0, and it needs to be at least 1		{E} Draw on Right-Click is "iffy" on multiple hits on the same object.				Control Bugs		{E} Lock/Unlock doesn't work on Chords. I thought I fixed this!!!		   { } This isn't consistent. I think it might be a right-click on an unfocused control issue.		{E} Edit notes command doesn't work on chords for some reason. The menu item isn't enabled when there are only chords selected.				Math/Music Bugs		{E} Scaling up from the 1/64th results in the notes not being scaled or moved out.		{E} LOW: Notes with a start beat between 0 and three need to be rounded, but a 0 startbeat needs to STAY at 0.														Fixed Bugs		{E} New Track command doesn't work even when TrackListObj has the focus.		   { } Works from the GUIObj when I use ParentWindow.TrackListObj1.AddTrack		      [ ] Fixed at some point		{E} Cut didn't remove the Chords and Groups from the NoteMgr Array.		   [ ] Fixed on rewrite of Chord Group management		{E} Paste doesn't move Chords and Groups over to NoteMgr.		   [ ] Fixed on rewrite of Chord Group management		{E} The track data shows up in the TrackListObj, but reverts to default when clicked on and the		NoteObjs are showing the defaults as well.		{E} Select All doesn't act as quickly as it should sometimes		   {E?} Selecting note won't work when selected track isn't the topmost and the desired note is behind another one.		      { } This might not be a bug. The GUIObj.MouseDown() event only looks to see if the note's track is active.and NoteMgr.EditNote method don't take into account		the active track at all. But, this goes kind of extends the "can't place a note where a note already exists rule."		{E} Paste doesn't select the newly pasted notes.		   { } This is "iffy"		{E} Drag Select or Delete isn't affecting chords when Y-axis is zoomed all the way out.		   [ ] Limited amount of Zoom out because of cosmetic issues.		{E} Select All isn't allowing notes to be edited that have been selected using that method. Weird.		   [ ] Fixed, though I'm not entirely sure where.		{E} DragSelect some objects, then click outside of an object. results in a NilObjectException.		   { } I think that whole thing needs to be redone from scratch because there are other problems as well.		      [ ] Rewrite fixed it.		{E} There is a drawing issue with a lot of chords. The outlines are offset but a lot. Some extended, others nowhere near their chord. This is amplified and incread as zoom increases.		   [ ] Fixed. bad math		{E} Delete key isn't working on chords (I think again.)		   [ ] Need to make sure the editor has the focus.		{E} Drag Select is only selecting chords when the root note is selected. I thought I fixed this.		   { } This is going to be a subtle one.		   [ ] Or not. There was a if Ubound(NoteMgr.Selection) = -1 then return command. We might get bitten by this later, but there's		nothing in the method itself to suggest that.		   [ ] The GUIObj.MouseDrag drag selection portion needs to be refactored.		   [FIXED]		{E} LOW: Need to figure out a way to get the parent window property in editing windows to apply.		{E} Shift click and then click isn't holding when a chord is selected; might be dodgy.		{E} The MakeChord goes out of whack.		   { } Make Note, Make Chord (Augmented). Copy. Paste. Make Chord (Major). Non-root notes change Startbeat to Chord it was copied from it seems		   [FIXED] GUIObj.MoveNote wasn't changing the Note.Chord.Startbeat when it should have		{E} PlayMgr isn't stopping when it should		   [FIXED] Had the stop method using the velocity of all notes to play instead of 0. Oops.		{E} PlayMgr won't even change tempos.		   { } We might need to move the timer into a Do...Loop for better granularity because this worked great in the previous version		   [FIXED] This was fixed when we changed the PlayMgr to a Do..Loop format. Works brilliantly now.		{E} Note Velocity Drawing has issues go over the black border.		   [FIXED] Changed pic.Width - 2 to - 3.		{E} Measure Ruler doesn't draw as neatly as it should.		   { } The editor draws guidelines very nicely, so maybe base the ruler code on that instead.		   [FIXED] Did exacrtly that. Not dynamic, but that wasn't crucial either.		{E} TrackListObj needs to ensure a track is selected AT ALL TIMES.		   { } I think this needs to happen in the DeleteTrack method, but there's a bug else where that allow a track to not be selected.		   [FIXED] In DeleteTrack: me.Selected(0) = true		           In AddTrackToList (called by Add and DuplicateTrack:		           me.Selected(me.LastIndex) = true		           for i = 0 to me.ListCount		            if i <> me.LastIndex then me.Selected(i) = false		           next		{E} ScrollWheel will still go up and cause bad values to be shown when zoom is at minimum (or maybe when all of the notes can be seen).		   [FIXED] Added if (me.Height - me.kRulerPicHeight) <= MIDILib.kMIDINoteCount * me.ResolutionY conditional.		{E} Resize bars wasn't working when zooming in on the X-axis		   { } I think the issue is in WindowEditor.ResizeBars		   [FIXED] WindowEditor.ResizeBars gets called in GUIObj.MouseDown() in Add (1) mode.		{E} Delete Bevel Button isn't working		   [FIXED] I forget how I fixed this, but it's working now.		{E} Paste didn't deselect the Copy selection.		   [FIXED] Added NoteMgr.SelectNone command before all of the pasting.		{E} Select All selects all notes from all tracks		   [FIXED] Changed the algorithm to something that resembled the DragSelect algorithm		{E} Drag still makes everything jump if I reselect the same note again.		   [FIXED] There needs to be a loop in the NoteMgr.EditNote method that Uses NoteMgr.SetOldData to ensure everything stays in formation		{E} Deselect isn't deselecting. It was working a week ago!		   { } This might be related to the below item.		{E} Delete isn't even deleting chords, only leaving them selected, and the only way to deselect them is to DragSelect.		   [FIXED] NoteMgr.DestryNote didn't have the loop to check against Note.Chord				{FIXED} TrackListObj.DuplicateTrack is indicative of larger problems.		   {E} Tracks can't be duped when there are ChordObjs in them.		   [FIXED] The Notes weren't being assigned the Track. Duh. However, the following issue is still in place. I've emailed the group.		   {E} Find out why the hell all of a sudden...		      { } tracks aren't being assigned to PlayObjs, although PlayObjs are drawn correctly on Cut/Copy/Paste		          { } It's weird because before they were being assigned no problem, so I have to wonder if maybe the		          added complexity of the application is hiding a break in the chain somewhere. I've mucked about		          that chain a bit, but I didn't think I was breaking anything.		          [FIXED] The Track variable was in two different places in the object hierarchy. 		          			#tag EndNote	#tag Note, Name = Misc		v0.5.4 = approx 4800 lines of code (note including comments, IDE-based framework)		It seems like things sort of "drop out" as this thing get more complex.			#tag EndNote	#tag Note, Name = SequenceMap_FileOpen		App._FileOpen_Action		FileLib.Open		WindowMgr.EditorNew		WindowEditor.Event.Open		WindowEditor.Open_Initialize_PM_BeatsPerMeasure		WindowEditor.PM_BeatsPerMeasure.Change		GUIObj.Draw		GUIObj.DrawKeys			#tag EndNote	#tag Note, Name = To Do		All new features to be handled in MusicSketchBugs.oo3				[+] Rewrite object selection methods to take into account ChordObj		   [+] Click		   [+] Shift-click		   [+] Drag Select		[+] Write all of the editing methods		   [+] Cut		   [+] Copy		   [+] Paste		   [+] Delete (Clear)		[+] Add DuplicateTrack		[+] Sweep for bugs (like the select/deselect bugs)		[+] Draw Chord Outlines				0.4.0		[+] Tab Resize. YEAH! IT ROCKS!!!		[+] Fix PlayMgr		[+] Notes		   [+] Change Velocity		      [+] Set Velocity		      [+] Modify Velocity		   [+] Change Length		      [+] Set Length		      [+] Modify Length		         [+] Individually		         [+] Group (Tempo) 		   [+] Lock				0.5.0		[+] Make Modules into Classes to multiple window interface.		[+] Relink all the windows and see about setting controls based on Editor settings and selections		   [+] WindowChangeKey		   [+] WindowMakeChord		   [+] WindowEditNote		[-] Chord Functions		   [+] Break		   [+] Remove		   [+] Alter - This might not be necessary; might be a redundant menu item.		[+] GroupObj		   [+] Group		   [+] UnGroup		   [+] Cut		   [+] Copy		   [+] Paste		[+] Chords are now outlined to encompass arpeggiation		[+] WindowMakeChord now grabs all chord data (except inversions)		[+] Global Clipboard (I think this is going to be as simple as moving the CopyClipboard to a module and find/replace some code.)(+It was!)		[+] Save as MIDI...				[ ] Sweep for bugs (This would be best done as unit testing code. Ugh.)				[ ] Link Notes/Chords		[ ] Select/Edit/Move linked Notes/Chords				0.6.0		[-] Add Save/Open Functions		   [+] Save As MIDI...		   [+] Save...		   [+] Open...		[+] Refactored Object Hierarchy		[+] 0.6.3 Object selection works		[+] 0.6.5 Ungroup Works		[+] Group Actions		   [+] Group		   [+] UnGroup but leave nested groups behind. See how groups and their objects are selected. 		      [+] IDEA Create a TopGroup computed property, then have GUIObj.DrawNote check to see of the TopGroup is selected		              In GroupSelectObject, deselect nested groups so that only one group in a hierarchy is selected		[-] Update all relevant actions. See the OmniOutline for list.		   [ ] One way to approach the gathering of notes for some of these is to simply go through NoteMgr.Notes and apply the action to the notes. 		      So, use the objects for selection only.		   [ ] Or, better yet, create global actions that goes through all of the objects and collects them into an array.		[+] Create New TestSuiteObj method that has notes, chord, groups and nested groups.		[+] Chords aren't managed properly in the tracks, and groups aren't handled at all.		   [+] The root note for a chord isn't disposed of at all. So, a note turned into a chord results in a note and a chord, but the original note isn't visible.		[+] Check Cut/Copy/Paste Commands for Group/Chord handling, particularly in the NoteMgrObj		   [+] Copy OK		   [+] Paste OK		   [+] Cut isn't removing Chords and Groups		[+] Check TrackListObj Track Management Methods for object handling, to make sure objects get duped and deleted correctly.				[ ] Write Undo Framework		[+] "Dirty Window" Window MenuItem FileClose needs to be check of document is modified and raise an error if it has been. 		    Of course this means setting the window to modified on, like, every frickin' edit.		[+] Finalize how groups are shown				v0.7.0		[ ] Push Forward with ACS.		   [ ] Chord Check (Have Chord self check to see if all notes are still within key and change if not after moving)		   [ ] Harmonizer (Create harmony based on melody)		   [ ] Bass Line (Create bass staff harmony)		   [ ] Melody generation (From nothing)		   [ ] Chord Progression Generation (need to get my learning on with this one)				Quick Tweaks		[ ] Make ActiveTrack a computed property so we have one less method to deal with.		[ ] The same for TotalBeats and GuiObj.SongLength		[ ] Put MaxTracks for the TrackListObj into a global variable.				The Advanced Stuff		[ ] Add Open MIDI			#tag EndNote	#tag ViewBehavior		#tag ViewProperty			Name="Index"			Visible=true			Group="ID"			InitialValue="-2147483648"			InheritedFrom="Object"		#tag EndViewProperty		#tag ViewProperty			Name="Left"			Visible=true			Group="Position"			InitialValue="0"			InheritedFrom="Object"		#tag EndViewProperty		#tag ViewProperty			Name="Name"			Visible=true			Group="ID"			InheritedFrom="Object"		#tag EndViewProperty		#tag ViewProperty			Name="Super"			Visible=true			Group="ID"			InheritedFrom="Object"		#tag EndViewProperty		#tag ViewProperty			Name="Top"			Visible=true			Group="Position"			InitialValue="0"			InheritedFrom="Object"		#tag EndViewProperty	#tag EndViewBehaviorEnd Module#tag EndModule